{"ast":null,"code":"var _jsxFileName = \"/Users/nikita/testProjectTabel/src/modules/main/components/mainTabel.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useMemo } from \"react\";\nimport { usePagination, useTable } from \"react-table\";\nimport { format } from \"date-fns\";\nimport styled from \"styled-components\";\nimport { Loader } from \"@mantine/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MainTabel = _ref => {\n  _s();\n\n  let {\n    users,\n    loading,\n    userIds,\n    pageCount: controlledPageCount,\n    fetchData\n  } = _ref;\n  const data = users;\n  const columns = useMemo(() => [{\n    Header: 'ID',\n    accessor: 'ID',\n    // accessor is the \"key\" in the data\n    width: 130,\n    Cell: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return userIds.find(item => (item === null || item === void 0 ? void 0 : item.id) == value).ID;\n    } // <span style={{ color: '#7E8298' }}>{value}</span>\n\n  }, {\n    Header: 'FirstName',\n    accessor: 'FirstName',\n    // accessor is the \"key\" in the data\n    Cell: _ref3 => {\n      let {\n        value\n      } = _ref3;\n      return value.length > 6 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value.slice(0, 6) + '...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 62\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 134\n      }, this);\n    }\n  }, {\n    Header: 'City',\n    accessor: 'City',\n    // accessor is the \"key\" in the data\n    Cell: _ref4 => {\n      let {\n        value\n      } = _ref4;\n      return value.length > 6 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value.slice(0, 6) + '...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 62\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 134\n      }, this);\n    }\n  }, {\n    Header: `Orientation`,\n    accessor: 'Orientation',\n    // accessor is the \"key\" in the data\n    Cell: _ref5 => {\n      let {\n        value\n      } = _ref5;\n      return `active (${value})`;\n    }\n  }, {\n    Header: 'ScansInPeriod',\n    accessor: 'ScansInPeriod' // accessor is the \"key\" in the data\n\n  }, {\n    Header: 'VIP',\n    accessor: 'VIP' // accessor is the \"key\" in the data\n\n  }, {\n    Header: 'CreatedAt',\n    accessor: 'CreatedAt',\n    // accessor is the \"key\" in the data\n    Cell: _ref6 => {\n      let {\n        value\n      } = _ref6;\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: format(new Date(value), `dd.MM.yyyy`)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 43\n      }, this);\n    }\n  }, {\n    Header: 'Ban',\n    accessor: 'Ban' // accessor is the \"key\" in the data\n\n  }, {\n    Header: 'State',\n    accessor: 'State',\n    // accessor is the \"key\" in the data\n    Cell: _ref7 => {\n      let {\n        value\n      } = _ref7;\n      return /*#__PURE__*/_jsxDEV(TabelBodyItemTdSpan, {\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 43\n      }, this);\n    }\n  }], []);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    gotoPage,\n    nextPage,\n    previousPage,\n    state: {\n      pageIndex\n    }\n  } = useTable({\n    columns,\n    data,\n    //@ts-ignorec\n    initialState: {\n      pageIndex: 0\n    },\n    manualPagination: true,\n    pageCount: controlledPageCount\n  }, usePagination);\n\n  const filterPages = (visiblePages, totalPages) => {\n    return visiblePages.filter(page => page <= totalPages);\n  };\n\n  const getVisiblePages = () => {\n    if (pageOptions.length < 7) {\n      return filterPages([1, 2, 3, 4, 5, 6], pageOptions.length);\n    } else {\n      if ((pageIndex + 1) % 5 >= 0 && pageIndex + 1 > 4 && pageIndex + 1 + 2 < pageOptions.length) {\n        return [1, pageIndex + 1 - 1, pageIndex + 1, pageIndex + 1 + 1, pageOptions.length];\n      } else if ((pageIndex + 1) % 5 >= 0 && pageIndex + 1 > 4 && pageIndex + 1 + 2 >= pageOptions.length) {\n        return [1, pageOptions.length - 3, pageOptions.length - 2, pageOptions.length - 1, pageOptions.length];\n      } else {\n        return [1, 2, 3, 4, 5, pageOptions.length];\n      }\n    }\n  };\n\n  const allNav = getVisiblePages();\n  useEffect(() => {\n    fetchData({\n      pageIndex\n    });\n  }, [fetchData, pageIndex]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(LoaderContainer, {\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        color: \"#7242E6\",\n        size: 'md',\n        variant: 'dots'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Tabel, { ...getTableProps(),\n      children: [/*#__PURE__*/_jsxDEV(TabelHeader, {\n        children: headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(TabelHeaderItem, { ...headerGroup.getHeaderGroupProps(),\n          children: headerGroup.headers.map(column => /*#__PURE__*/_jsxDEV(TabelHeaderItemTh, { ...column.getHeaderProps(),\n            children: [\" \", column.render('Header'), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }, this), users.length ? /*#__PURE__*/_jsxDEV(TabelBody, { ...getTableBodyProps(),\n        children: rows.map(row => {\n          prepareRow(row);\n          return /*#__PURE__*/_jsxDEV(TabelBodyItem, { ...row.getRowProps(),\n            children: row.cells.map(cell => {\n              return /*#__PURE__*/_jsxDEV(TabelBodyItemTd, { ...cell.getCellProps(),\n                children: [\" \", cell.render('Cell')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 49\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(ContainerPagination, {\n      className: \"pagination\",\n      children: [/*#__PURE__*/_jsxDEV(PreviousButton, {\n        onClick: () => previousPage(),\n        disabled: !canPreviousPage,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: '<'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), ' ', /*#__PURE__*/_jsxDEV(NavNumberContainer, {\n        children: allNav.map((page, index, array) => {\n          return /*#__PURE__*/_jsxDEV(NavNumberContainerItem, {\n            active: pageIndex + 1 === page,\n            onClick: () => gotoPage(page - 1),\n            children: array[index - 1] + 2 < page ? `...${page}` : page\n          }, page, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NextButton, {\n        onClick: () => nextPage(),\n        disabled: !canNextPage,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: '>'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MainTabel, \"aZ/ThFS7qGxbM38WYCDrn6UUbkg=\", false, function () {\n  return [useTable];\n});\n\n_c = MainTabel;\nconst NavNumberContainer = styled.div`\ndisplay: flex;\n`;\n_c2 = NavNumberContainer;\nconst NavNumberContainerItem = styled.div`\n    cursor: pointer;\n    font-family: 'Gilroy Bold';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 15px;\n    line-height: 18px;\n    color: #7E8298;\n    margin: 7px 0px;\n    padding: 7px 12px;\n    border-radius: 8px;\n${props => props.active && 'color: #fff'};\n${props => props.active && 'background: #7242E6'};\n`;\n_c3 = NavNumberContainerItem;\nconst ContainerPagination = styled.div`\n    display: flex;\n    justify-content: end;\n    padding: 30px 0;\n`;\n_c4 = ContainerPagination;\nconst NextButton = styled.div`\ncursor: pointer;\nfont-family: 'Gilroy Bold';\ncolor: #7E8298;\nmargin: 12px 12px;\n${props => props.disabled && 'color: #d5d7e5'};\n`;\n_c5 = NextButton;\nconst PreviousButton = styled.div`\ncursor: pointer;\nfont-family: 'Gilroy Bold';\ncolor: #7E8298;\nmargin: 12px 12px;\n${props => props.disabled && 'color: #d5d7e5'};\n`;\n_c6 = PreviousButton;\nconst Tabel = styled.table`\n    width: 100%;\n`;\n_c7 = Tabel;\nconst TabelBody = styled.tbody`\n\n`;\n_c8 = TabelBody;\nconst TabelBodyItem = styled.tr`\n\n`;\n_c9 = TabelBodyItem;\nconst TabelBodyItemTd = styled.td`\nfont-family: 'Gilroy Bold';\nfont-style: normal;\nfont-weight: 700;\nfont-size: 15px;\ntext-align: left;\ncolor: #000000;\npadding: 19px 15px;\nborder-bottom: 1px dashed #E1E6EC;\nmax-width: 105px;\n`;\n_c10 = TabelBodyItemTd;\nconst TabelBodyItemTdSpan = styled.span`\nbackground: rgb(255, 245, 248);\n    border-radius: 7px;\n    padding: 6px 13px;\n    color: #EE446E;\n    font-size: 14px;\n`;\n_c11 = TabelBodyItemTdSpan;\nconst TabelHeader = styled.thead`\nborder: 1px dashed #E1E6EC;\npadding: 11px 33px;\n`;\n_c12 = TabelHeader;\nconst TabelHeaderItem = styled.tr`\n\n`;\n_c13 = TabelHeaderItem;\nconst TabelHeaderItemTh = styled.th`\nfont-family: 'Gilroy Bold';\nfont-style: normal;\nfont-weight: 700;\nfont-size: 12px;\nline-height: 15px;\ntext-align: left;\ntext-transform: uppercase;\ncolor: #B5B5C3;\nvertical-align: top;\nborder-bottom: 1px dashed #E1E6EC;\npadding-bottom: 11px;\npadding-left: 15px;\npadding-right: 15px;\n`;\n_c14 = TabelHeaderItemTh;\nconst LoaderContainer = styled.div`\n    text-align: center;\n    padding: 50px;\n`;\n_c15 = LoaderContainer;\nexport default MainTabel;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15;\n\n$RefreshReg$(_c, \"MainTabel\");\n$RefreshReg$(_c2, \"NavNumberContainer\");\n$RefreshReg$(_c3, \"NavNumberContainerItem\");\n$RefreshReg$(_c4, \"ContainerPagination\");\n$RefreshReg$(_c5, \"NextButton\");\n$RefreshReg$(_c6, \"PreviousButton\");\n$RefreshReg$(_c7, \"Tabel\");\n$RefreshReg$(_c8, \"TabelBody\");\n$RefreshReg$(_c9, \"TabelBodyItem\");\n$RefreshReg$(_c10, \"TabelBodyItemTd\");\n$RefreshReg$(_c11, \"TabelBodyItemTdSpan\");\n$RefreshReg$(_c12, \"TabelHeader\");\n$RefreshReg$(_c13, \"TabelHeaderItem\");\n$RefreshReg$(_c14, \"TabelHeaderItemTh\");\n$RefreshReg$(_c15, \"LoaderContainer\");","map":{"version":3,"sources":["/Users/nikita/testProjectTabel/src/modules/main/components/mainTabel.tsx"],"names":["useEffect","useMemo","usePagination","useTable","format","styled","Loader","MainTabel","users","loading","userIds","pageCount","controlledPageCount","fetchData","data","columns","Header","accessor","width","Cell","value","find","item","id","ID","length","color","slice","Date","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","canPreviousPage","canNextPage","pageOptions","gotoPage","nextPage","previousPage","state","pageIndex","initialState","manualPagination","filterPages","visiblePages","totalPages","filter","page","getVisiblePages","allNav","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","index","array","NavNumberContainer","div","NavNumberContainerItem","props","active","ContainerPagination","NextButton","disabled","PreviousButton","Tabel","table","TabelBody","tbody","TabelBodyItem","tr","TabelBodyItemTd","td","TabelBodyItemTdSpan","span","TabelHeader","thead","TabelHeaderItem","TabelHeaderItemTh","th","LoaderContainer"],"mappings":"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","sourcesContent":["import { useEffect, useMemo } from \"react\"\nimport { usePagination, useTable } from \"react-table\"\nimport { format } from \"date-fns\";\nimport styled from \"styled-components\";\nimport { Loader } from \"@mantine/core\";\n\ntype Props = {\n    users: any\n    loading: boolean\n    userIds: any\n    pageCount: number\n    fetchData: Function\n}\n\nconst MainTabel = ({ users, loading, userIds, pageCount: controlledPageCount, fetchData }: Props) => {\n\n    const data = users\n\n\n    const columns: any = useMemo(\n        () => [\n            {\n                Header: 'ID',\n                accessor: 'ID', // accessor is the \"key\" in the data\n                width: 130,\n                Cell: ({ value }: any) => {\n                    return userIds.find((item: any) => item?.id == value).ID\n                }\n                // <span style={{ color: '#7E8298' }}>{value}</span>\n            },\n            {\n                Header: 'FirstName',\n                accessor: 'FirstName', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => value.length > 6 ? <span style={{ color: '#7E8298' }}>{value.slice(0, 6) + '...'}</span> : <span style={{ color: '#7E8298' }}>{value}</span>\n            },\n            {\n                Header: 'City',\n                accessor: 'City', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => value.length > 6 ? <span style={{ color: '#7E8298' }}>{value.slice(0, 6) + '...'}</span> : <span style={{ color: '#7E8298' }}>{value}</span>\n            },\n            {\n                Header: `Orientation`,\n                accessor: 'Orientation', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => `active (${value})`\n            },\n            {\n                Header: 'ScansInPeriod',\n                accessor: 'ScansInPeriod', // accessor is the \"key\" in the data\n            },\n            {\n                Header: 'VIP',\n                accessor: 'VIP', // accessor is the \"key\" in the data\n            },\n            {\n                Header: 'CreatedAt',\n                accessor: 'CreatedAt', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => <span style={{ color: '#7E8298' }}>{format(new Date(value), `dd.MM.yyyy`)}</span>\n            },\n            {\n                Header: 'Ban',\n                accessor: 'Ban', // accessor is the \"key\" in the data\n            },\n            {\n                Header: 'State',\n                accessor: 'State', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => <TabelBodyItemTdSpan>{value}</TabelBodyItemTdSpan>\n\n            },\n        ],\n        []\n    )\n\n    const {\n        getTableProps,\n        getTableBodyProps,\n        headerGroups,\n        rows,\n        prepareRow,\n        canPreviousPage,\n        canNextPage,\n        pageOptions,\n        gotoPage,\n        nextPage,\n        previousPage,\n        state: { pageIndex },\n    }: any = useTable({\n        columns,\n        data,\n        //@ts-ignorec\n        initialState: { pageIndex: 0 },\n        manualPagination: true,\n        pageCount: controlledPageCount,\n    },\n        usePagination\n    )\n\n    const filterPages = (visiblePages: any, totalPages: number) => {\n        return visiblePages.filter((page: any) => page <= totalPages);\n    };\n\n    const getVisiblePages = () => {\n        if (pageOptions.length < 7) {\n            return filterPages([1, 2, 3, 4, 5, 6], pageOptions.length);\n        } else {\n            if ((pageIndex + 1) % 5 >= 0 && (pageIndex + 1) > 4 && (pageIndex + 1) + 2 < pageOptions.length) {\n                return [1, (pageIndex + 1) - 1, (pageIndex + 1), (pageIndex + 1) + 1, pageOptions.length];\n            } else if ((pageIndex + 1) % 5 >= 0 && (pageIndex + 1) > 4 && (pageIndex + 1) + 2 >= pageOptions.length) {\n                return [1, pageOptions.length - 3, pageOptions.length - 2, pageOptions.length - 1, pageOptions.length];\n            } else {\n                return [1, 2, 3, 4, 5, pageOptions.length];\n            }\n        }\n    };\n\n    const allNav = getVisiblePages()\n\n\n    useEffect(() => {\n        fetchData({ pageIndex })\n    }, [fetchData, pageIndex])\n\n    return (\n        <>\n            {loading ?\n                <LoaderContainer>\n                    <Loader color=\"#7242E6\" size={'md'} variant={'dots'} />\n                </LoaderContainer>\n                :\n\n                <Tabel {...getTableProps()}>\n                    <TabelHeader>\n                        {headerGroups.map((headerGroup: any) => (\n                            <TabelHeaderItem {...headerGroup.getHeaderGroupProps()}>\n                                {headerGroup.headers.map((column: any) => (\n                                    <TabelHeaderItemTh {...column.getHeaderProps()}> {column.render('Header')} </TabelHeaderItemTh>\n                                ))}\n                            </TabelHeaderItem>\n                        ))}\n                    </TabelHeader>\n                    {users.length ?\n                        <TabelBody {...getTableBodyProps()}>\n                            {rows.map((row: any) => {\n                                prepareRow(row)\n                                return (\n                                    <TabelBodyItem {...row.getRowProps()}>\n                                        {row.cells.map((cell: any) => {\n                                            return (\n                                                <TabelBodyItemTd {...cell.getCellProps()}> {cell.render('Cell')}</TabelBodyItemTd>\n                                            )\n                                        })}\n                                    </TabelBodyItem>\n                                )\n                            })\n                            }\n                        </TabelBody>\n                        :\n                        <p>Данных нет</p>\n                    }\n\n                </Tabel>\n            }\n\n            <ContainerPagination className=\"pagination\">\n                <PreviousButton onClick={() => previousPage()} disabled={!canPreviousPage}>\n                    <div>{'<'}</div>\n                </PreviousButton>{' '}\n                <NavNumberContainer>\n                    {allNav.map((page: any, index: any, array: any) => {\n                        return (\n                            <NavNumberContainerItem\n                                key={page}\n                                active={(pageIndex + 1) === page}\n                                onClick={() => gotoPage(page - 1)}\n                            >\n                                {array[index - 1] + 2 < page ? `...${page}` : page}\n                            </NavNumberContainerItem>\n                        );\n                    })}\n                </NavNumberContainer>\n                <NextButton onClick={() => nextPage()} disabled={!canNextPage}>\n                    <div>{'>'}</div>\n                </NextButton>\n            </ContainerPagination>\n        </>\n    )\n}\n\n\n\nconst NavNumberContainer = styled.div`\ndisplay: flex;\n`;\nconst NavNumberContainerItem = styled.div<{ active: boolean }>`\n    cursor: pointer;\n    font-family: 'Gilroy Bold';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 15px;\n    line-height: 18px;\n    color: #7E8298;\n    margin: 7px 0px;\n    padding: 7px 12px;\n    border-radius: 8px;\n${(props) => props.active && 'color: #fff'};\n${(props) => props.active && 'background: #7242E6'};\n`;\n\nconst ContainerPagination = styled.div`\n    display: flex;\n    justify-content: end;\n    padding: 30px 0;\n`;\n\nconst NextButton = styled.div<{ disabled: boolean }>`\ncursor: pointer;\nfont-family: 'Gilroy Bold';\ncolor: #7E8298;\nmargin: 12px 12px;\n${(props) => props.disabled && 'color: #d5d7e5'};\n`;\n\nconst PreviousButton = styled.div<{ disabled: boolean }>`\ncursor: pointer;\nfont-family: 'Gilroy Bold';\ncolor: #7E8298;\nmargin: 12px 12px;\n${(props) => props.disabled && 'color: #d5d7e5'};\n`;\n\nconst Tabel = styled.table`\n    width: 100%;\n`;\n\nconst TabelBody = styled.tbody`\n\n`;\n\nconst TabelBodyItem = styled.tr`\n\n`;\n\nconst TabelBodyItemTd = styled.td`\nfont-family: 'Gilroy Bold';\nfont-style: normal;\nfont-weight: 700;\nfont-size: 15px;\ntext-align: left;\ncolor: #000000;\npadding: 19px 15px;\nborder-bottom: 1px dashed #E1E6EC;\nmax-width: 105px;\n`;\n\nconst TabelBodyItemTdSpan = styled.span`\nbackground: rgb(255, 245, 248);\n    border-radius: 7px;\n    padding: 6px 13px;\n    color: #EE446E;\n    font-size: 14px;\n`;\n\nconst TabelHeader = styled.thead`\nborder: 1px dashed #E1E6EC;\npadding: 11px 33px;\n`;\n\nconst TabelHeaderItem = styled.tr`\n\n`;\n\nconst TabelHeaderItemTh = styled.th`\nfont-family: 'Gilroy Bold';\nfont-style: normal;\nfont-weight: 700;\nfont-size: 12px;\nline-height: 15px;\ntext-align: left;\ntext-transform: uppercase;\ncolor: #B5B5C3;\nvertical-align: top;\nborder-bottom: 1px dashed #E1E6EC;\npadding-bottom: 11px;\npadding-left: 15px;\npadding-right: 15px;\n`;\n\nconst LoaderContainer = styled.div`\n    text-align: center;\n    padding: 50px;\n`;\n\nexport default MainTabel\n"]},"metadata":{},"sourceType":"module"}