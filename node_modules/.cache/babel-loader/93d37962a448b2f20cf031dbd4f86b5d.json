{"ast":null,"code":"var _jsxFileName = \"/Users/nikita/testProjectTabel/src/modules/main/components/mainTabel.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useMemo } from \"react\";\nimport { usePagination, useTable } from \"react-table\";\nimport { format } from \"date-fns\";\nimport styled from \"styled-components\";\nimport { Loader } from \"@mantine/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MainTabel = _ref => {\n  _s();\n\n  let {\n    users,\n    loading,\n    pageCount: controlledPageCount,\n    fetchData\n  } = _ref;\n  const data = users;\n  const columns = useMemo(() => [{\n    Header: 'ID',\n    accessor: 'ID',\n    // accessor is the \"key\" in the data\n    width: 130,\n    Cell: _ref2 => {\n      let {\n        value\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 43\n      }, this);\n    }\n  }, {\n    Header: 'Имя',\n    accessor: 'FirstName',\n    // accessor is the \"key\" in the data\n    Cell: _ref3 => {\n      let {\n        value\n      } = _ref3;\n      return value.length > 6 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value.slice(0, 6) + '...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 62\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 134\n      }, this);\n    }\n  }, {\n    Header: 'Город',\n    accessor: 'City',\n    // accessor is the \"key\" in the data\n    Cell: _ref4 => {\n      let {\n        value\n      } = _ref4;\n      return value.length > 6 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value.slice(0, 6) + '...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 62\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 134\n      }, this);\n    }\n  }, {\n    Header: `Активность роботов (кол-во)`,\n    accessor: 'Orientation',\n    // accessor is the \"key\" in the data\n    Cell: _ref5 => {\n      let {\n        value\n      } = _ref5;\n      return `активно (${value})`;\n    }\n  }, {\n    Header: 'Сумма счетов',\n    accessor: 'ScansInPeriod' // accessor is the \"key\" in the data\n\n  }, {\n    Header: 'Прибыль',\n    accessor: 'VIP' // accessor is the \"key\" in the data\n\n  }, {\n    Header: 'Дата регистрации',\n    accessor: 'CreatedAt',\n    // accessor is the \"key\" in the data\n    Cell: _ref6 => {\n      let {\n        value\n      } = _ref6;\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7E8298'\n        },\n        children: format(new Date(value), `dd.MM.yyyy`)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 43\n      }, this);\n    }\n  }, {\n    Header: 'Комиссия',\n    accessor: 'Ban' // accessor is the \"key\" in the data\n\n  }, {\n    Header: 'Статус плательщика',\n    accessor: 'State',\n    // accessor is the \"key\" in the data\n    Cell: _ref7 => {\n      let {\n        value\n      } = _ref7;\n      return /*#__PURE__*/_jsxDEV(TabelBodyItemTdSpan, {\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 43\n      }, this);\n    }\n  }], []);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    gotoPage,\n    nextPage,\n    previousPage,\n    state: {\n      pageIndex\n    }\n  } = useTable({\n    columns,\n    data,\n    initialState: {\n      pageIndex: 0\n    },\n    manualPagination: true,\n    pageCount: controlledPageCount\n  }, usePagination);\n\n  const filterPages = (visiblePages, totalPages) => {\n    return visiblePages.filter(page => page <= totalPages);\n  };\n\n  const getVisiblePages = () => {\n    if (pageOptions.length < 7) {\n      return filterPages([1, 2, 3, 4, 5, 6], pageOptions.length);\n    } else {\n      if ((pageIndex + 1) % 5 >= 0 && pageIndex + 1 > 4 && pageIndex + 1 + 2 < pageOptions.length) {\n        return [1, pageIndex + 1 - 1, pageIndex + 1, pageIndex + 1 + 1, pageOptions.length];\n      } else if ((pageIndex + 1) % 5 >= 0 && pageIndex + 1 > 4 && pageIndex + 1 + 2 >= pageOptions.length) {\n        return [1, pageOptions.length - 3, pageOptions.length - 2, pageOptions.length - 1, pageOptions.length];\n      } else {\n        return [1, 2, 3, 4, 5, pageOptions.length];\n      }\n    }\n  };\n\n  const allNav = getVisiblePages();\n  useEffect(() => {\n    fetchData({\n      pageIndex\n    });\n  }, [fetchData, pageIndex]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(LoaderContainer, {\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        color: \"#7242E6\",\n        size: 'md',\n        variant: 'dots'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Tabel, { ...getTableProps(),\n      children: [/*#__PURE__*/_jsxDEV(TabelHeader, {\n        children: headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(TabelHeaderItem, { ...headerGroup.getHeaderGroupProps(),\n          children: headerGroup.headers.map(column => /*#__PURE__*/_jsxDEV(TabelHeaderItemTh, { ...column.getHeaderProps(),\n            children: [\" \", column.render('Header'), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }, this), users.length ? /*#__PURE__*/_jsxDEV(TabelBody, { ...getTableBodyProps(),\n        children: rows.map(row => {\n          prepareRow(row);\n          return /*#__PURE__*/_jsxDEV(TabelBodyItem, { ...row.getRowProps(),\n            children: row.cells.map(cell => {\n              return /*#__PURE__*/_jsxDEV(TabelBodyItemTd, { ...cell.getCellProps(),\n                children: [\" \", cell.render('Cell')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 49\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(ContainerPagination, {\n      className: \"pagination\",\n      children: [/*#__PURE__*/_jsxDEV(PreviousButton, {\n        onClick: () => previousPage(),\n        disabled: !canPreviousPage,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: '<'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), ' ', /*#__PURE__*/_jsxDEV(NavNumberContainer, {\n        children: allNav.map((page, index, array) => {\n          return /*#__PURE__*/_jsxDEV(NavNumberContainerItem, {\n            active: pageIndex + 1 === page,\n            onClick: () => gotoPage(page),\n            children: array[index - 1] + 2 < page ? `...${page}` : page\n          }, page, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(NextButton, {\n        onClick: () => nextPage(),\n        disabled: !canNextPage,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: '>'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MainTabel, \"my14JO3FC7qvWwDlcJhC0aXIDmw=\", false, function () {\n  return [useTable];\n});\n\n_c = MainTabel;\nconst NavNumberContainer = styled.div`\ndisplay: flex;\n`;\n_c2 = NavNumberContainer;\nconst NavNumberContainerItem = styled.div`\n    cursor: pointer;\n    font-family: 'Gilroy Bold';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 15px;\n    line-height: 18px;\n    color: #7E8298;\n    margin: 7px 0px;\n    padding: 7px 12px;\n    border-radius: 8px;\n${props => props.active && 'color: #fff'};\n${props => props.active && 'background: #7242E6'};\n`;\n_c3 = NavNumberContainerItem;\nconst ContainerPagination = styled.div`\n    display: flex;\n    justify-content: end;\n    padding: 30px 0;\n`;\n_c4 = ContainerPagination;\nconst NextButton = styled.div`\ncursor: pointer;\nfont-family: 'Gilroy Bold';\ncolor: #7E8298;\nmargin: 12px 12px;\n${props => props.disabled && 'color: #d5d7e5'};\n`;\n_c5 = NextButton;\nconst PreviousButton = styled.div`\ncursor: pointer;\nfont-family: 'Gilroy Bold';\ncolor: #7E8298;\nmargin: 12px 12px;\n${props => props.disabled && 'color: #d5d7e5'};\n`;\n_c6 = PreviousButton;\nconst Tabel = styled.table`\n    width: 100%;\n`;\n_c7 = Tabel;\nconst TabelBody = styled.tbody`\n\n`;\n_c8 = TabelBody;\nconst TabelBodyItem = styled.tr`\n\n`;\n_c9 = TabelBodyItem;\nconst TabelBodyItemTd = styled.td`\nfont-family: 'Gilroy Bold';\nfont-style: normal;\nfont-weight: 700;\nfont-size: 15px;\ntext-align: left;\ncolor: #000000;\npadding: 19px 15px;\nborder-bottom: 1px dashed #E1E6EC;\nmax-width: 105px;\n`;\n_c10 = TabelBodyItemTd;\nconst TabelBodyItemTdSpan = styled.span`\nbackground: rgb(255, 245, 248);\n    border-radius: 7px;\n    padding: 6px 13px;\n    color: #EE446E;\n    font-size: 14px;\n`;\n_c11 = TabelBodyItemTdSpan;\nconst TabelHeader = styled.thead`\nborder: 1px dashed #E1E6EC;\npadding: 11px 33px;\n`;\n_c12 = TabelHeader;\nconst TabelHeaderItem = styled.tr`\n\n`;\n_c13 = TabelHeaderItem;\nconst TabelHeaderItemTh = styled.th`\nfont-family: 'Gilroy Bold';\nfont-style: normal;\nfont-weight: 700;\nfont-size: 12px;\nline-height: 15px;\ntext-align: left;\ntext-transform: uppercase;\ncolor: #B5B5C3;\nvertical-align: top;\nborder-bottom: 1px dashed #E1E6EC;\npadding-bottom: 11px;\npadding-left: 15px;\npadding-right: 15px;\n`;\n_c14 = TabelHeaderItemTh;\nconst LoaderContainer = styled.div`\n    text-align: center;\n    padding: 50px;\n`;\n_c15 = LoaderContainer;\nexport default MainTabel;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15;\n\n$RefreshReg$(_c, \"MainTabel\");\n$RefreshReg$(_c2, \"NavNumberContainer\");\n$RefreshReg$(_c3, \"NavNumberContainerItem\");\n$RefreshReg$(_c4, \"ContainerPagination\");\n$RefreshReg$(_c5, \"NextButton\");\n$RefreshReg$(_c6, \"PreviousButton\");\n$RefreshReg$(_c7, \"Tabel\");\n$RefreshReg$(_c8, \"TabelBody\");\n$RefreshReg$(_c9, \"TabelBodyItem\");\n$RefreshReg$(_c10, \"TabelBodyItemTd\");\n$RefreshReg$(_c11, \"TabelBodyItemTdSpan\");\n$RefreshReg$(_c12, \"TabelHeader\");\n$RefreshReg$(_c13, \"TabelHeaderItem\");\n$RefreshReg$(_c14, \"TabelHeaderItemTh\");\n$RefreshReg$(_c15, \"LoaderContainer\");","map":{"version":3,"sources":["/Users/nikita/testProjectTabel/src/modules/main/components/mainTabel.tsx"],"names":["useEffect","useMemo","usePagination","useTable","format","styled","Loader","MainTabel","users","loading","pageCount","controlledPageCount","fetchData","data","columns","Header","accessor","width","Cell","value","color","length","slice","Date","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","canPreviousPage","canNextPage","pageOptions","gotoPage","nextPage","previousPage","state","pageIndex","initialState","manualPagination","filterPages","visiblePages","totalPages","filter","page","getVisiblePages","allNav","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","index","array","NavNumberContainer","div","NavNumberContainerItem","props","active","ContainerPagination","NextButton","disabled","PreviousButton","Tabel","table","TabelBody","tbody","TabelBodyItem","tr","TabelBodyItemTd","td","TabelBodyItemTdSpan","span","TabelHeader","thead","TabelHeaderItem","TabelHeaderItemTh","th","LoaderContainer"],"mappings":"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","sourcesContent":["import { useEffect, useMemo } from \"react\"\nimport { usePagination, useTable } from \"react-table\"\nimport { format } from \"date-fns\";\nimport styled from \"styled-components\";\nimport { Loader } from \"@mantine/core\";\n\ntype Props = {\n    users: any\n    loading: boolean\n    pageCount: number\n    fetchData: Function\n}\n\nconst MainTabel = ({ users, loading, pageCount: controlledPageCount, fetchData }: Props) => {\n\n    const data = users\n\n\n    const columns: any = useMemo(\n        () => [\n            {\n                Header: 'ID',\n                accessor: 'ID', // accessor is the \"key\" in the data\n                width: 130,\n                Cell: ({ value }: any) => <span style={{ color: '#7E8298' }}>{value}</span>\n            },\n            {\n                Header: 'Имя',\n                accessor: 'FirstName', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => value.length > 6 ? <span style={{ color: '#7E8298' }}>{value.slice(0, 6) + '...'}</span> : <span style={{ color: '#7E8298' }}>{value}</span>\n            },\n            {\n                Header: 'Город',\n                accessor: 'City', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => value.length > 6 ? <span style={{ color: '#7E8298' }}>{value.slice(0, 6) + '...'}</span> : <span style={{ color: '#7E8298' }}>{value}</span>\n            },\n            {\n                Header: `Активность роботов (кол-во)`,\n                accessor: 'Orientation', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => `активно (${value})`\n            },\n            {\n                Header: 'Сумма счетов',\n                accessor: 'ScansInPeriod', // accessor is the \"key\" in the data\n            },\n            {\n                Header: 'Прибыль',\n                accessor: 'VIP', // accessor is the \"key\" in the data\n            },\n            {\n                Header: 'Дата регистрации',\n                accessor: 'CreatedAt', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => <span style={{ color: '#7E8298' }}>{format(new Date(value), `dd.MM.yyyy`)}</span>\n            },\n            {\n                Header: 'Комиссия',\n                accessor: 'Ban', // accessor is the \"key\" in the data\n            },\n            {\n                Header: 'Статус плательщика',\n                accessor: 'State', // accessor is the \"key\" in the data\n                Cell: ({ value }: any) => <TabelBodyItemTdSpan>{value}</TabelBodyItemTdSpan>\n\n            },\n        ],\n        []\n    )\n\n    const {\n        getTableProps,\n        getTableBodyProps,\n        headerGroups,\n        rows,\n        prepareRow,\n        canPreviousPage,\n        canNextPage,\n        pageOptions,\n        gotoPage,\n        nextPage,\n        previousPage,\n        state: { pageIndex },\n    } = useTable({\n        columns,\n        data,\n        initialState: { pageIndex: 0 },\n        manualPagination: true,\n        pageCount: controlledPageCount,\n    },\n        usePagination\n    )\n\n    const filterPages = (visiblePages: any, totalPages: number) => {\n        return visiblePages.filter((page: any) => page <= totalPages);\n    };\n\n    const getVisiblePages = () => {\n        if (pageOptions.length < 7) {\n            return filterPages([1, 2, 3, 4, 5, 6], pageOptions.length);\n        } else {\n            if ((pageIndex + 1) % 5 >= 0 && (pageIndex + 1) > 4 && (pageIndex + 1) + 2 < pageOptions.length) {\n                return [1, (pageIndex + 1) - 1, (pageIndex + 1), (pageIndex + 1) + 1, pageOptions.length];\n            } else if ((pageIndex + 1) % 5 >= 0 && (pageIndex + 1) > 4 && (pageIndex + 1) + 2 >= pageOptions.length) {\n                return [1, pageOptions.length - 3, pageOptions.length - 2, pageOptions.length - 1, pageOptions.length];\n            } else {\n                return [1, 2, 3, 4, 5, pageOptions.length];\n            }\n        }\n    };\n\n    const allNav = getVisiblePages()\n\n\n    useEffect(() => {\n        fetchData({ pageIndex })\n    }, [fetchData, pageIndex])\n\n    return (\n        <>\n            {loading ?\n                <LoaderContainer>\n                    <Loader color=\"#7242E6\" size={'md'} variant={'dots'} />\n                </LoaderContainer>\n                :\n\n                <Tabel {...getTableProps()}>\n                    <TabelHeader>\n                        {headerGroups.map(headerGroup => (\n                            <TabelHeaderItem {...headerGroup.getHeaderGroupProps()}>\n                                {headerGroup.headers.map(column => (\n                                    <TabelHeaderItemTh {...column.getHeaderProps()}> {column.render('Header')} </TabelHeaderItemTh>\n                                ))}\n                            </TabelHeaderItem>\n                        ))}\n                    </TabelHeader>\n                    {users.length ?\n                        <TabelBody {...getTableBodyProps()}>\n                            {rows.map(row => {\n                                prepareRow(row)\n                                return (\n                                    <TabelBodyItem {...row.getRowProps()}>\n                                        {row.cells.map(cell => {\n                                            return (\n                                                <TabelBodyItemTd {...cell.getCellProps()}> {cell.render('Cell')}</TabelBodyItemTd>\n                                            )\n                                        })}\n                                    </TabelBodyItem>\n                                )\n                            })\n                            }\n                        </TabelBody>\n                        :\n                        <p>Данных нет</p>\n                    }\n\n                </Tabel>\n            }\n\n            <ContainerPagination className=\"pagination\">\n                <PreviousButton onClick={() => previousPage()} disabled={!canPreviousPage}>\n                    <div>{'<'}</div>\n                </PreviousButton>{' '}\n                <NavNumberContainer>\n                    {allNav.map((page, index, array) => {\n                        return (\n                            <NavNumberContainerItem\n                                key={page}\n                                active={(pageIndex + 1) === page}\n                                onClick={() => gotoPage(page)}\n                            >\n                                {array[index - 1] + 2 < page ? `...${page}` : page}\n                            </NavNumberContainerItem>\n                        );\n                    })}\n                </NavNumberContainer>\n                <NextButton onClick={() => nextPage()} disabled={!canNextPage}>\n                    <div>{'>'}</div>\n                </NextButton>\n            </ContainerPagination>\n        </>\n    )\n}\n\n\n\nconst NavNumberContainer = styled.div`\ndisplay: flex;\n`;\nconst NavNumberContainerItem = styled.div<{active: boolean}>`\n    cursor: pointer;\n    font-family: 'Gilroy Bold';\n    font-style: normal;\n    font-weight: 700;\n    font-size: 15px;\n    line-height: 18px;\n    color: #7E8298;\n    margin: 7px 0px;\n    padding: 7px 12px;\n    border-radius: 8px;\n${(props)=>props.active && 'color: #fff'};\n${(props)=>props.active && 'background: #7242E6'};\n`;\n\nconst ContainerPagination = styled.div`\n    display: flex;\n    justify-content: end;\n    padding: 30px 0;\n`;\n\nconst NextButton = styled.div<{disabled: boolean}>`\ncursor: pointer;\nfont-family: 'Gilroy Bold';\ncolor: #7E8298;\nmargin: 12px 12px;\n${(props)=>props.disabled && 'color: #d5d7e5'};\n`;\n\nconst PreviousButton = styled.div<{disabled: boolean}>`\ncursor: pointer;\nfont-family: 'Gilroy Bold';\ncolor: #7E8298;\nmargin: 12px 12px;\n${(props)=>props.disabled && 'color: #d5d7e5'};\n`;\n\nconst Tabel = styled.table`\n    width: 100%;\n`;\n\nconst TabelBody = styled.tbody`\n\n`;\n\nconst TabelBodyItem = styled.tr`\n\n`;\n\nconst TabelBodyItemTd = styled.td`\nfont-family: 'Gilroy Bold';\nfont-style: normal;\nfont-weight: 700;\nfont-size: 15px;\ntext-align: left;\ncolor: #000000;\npadding: 19px 15px;\nborder-bottom: 1px dashed #E1E6EC;\nmax-width: 105px;\n`;\n\nconst TabelBodyItemTdSpan = styled.span`\nbackground: rgb(255, 245, 248);\n    border-radius: 7px;\n    padding: 6px 13px;\n    color: #EE446E;\n    font-size: 14px;\n`;\n\nconst TabelHeader = styled.thead`\nborder: 1px dashed #E1E6EC;\npadding: 11px 33px;\n`;\n\nconst TabelHeaderItem = styled.tr`\n\n`;\n\nconst TabelHeaderItemTh = styled.th`\nfont-family: 'Gilroy Bold';\nfont-style: normal;\nfont-weight: 700;\nfont-size: 12px;\nline-height: 15px;\ntext-align: left;\ntext-transform: uppercase;\ncolor: #B5B5C3;\nvertical-align: top;\nborder-bottom: 1px dashed #E1E6EC;\npadding-bottom: 11px;\npadding-left: 15px;\npadding-right: 15px;\n`;\n\nconst LoaderContainer = styled.div`\n    text-align: center;\n    padding: 50px;\n`;\n\nexport default MainTabel\n"]},"metadata":{},"sourceType":"module"}